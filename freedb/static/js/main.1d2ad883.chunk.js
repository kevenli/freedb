(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{42:function(e,t,a){e.exports=a(75)},47:function(e,t,a){},49:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},50:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(37),r=a.n(c),i=a(7),o=(a(47),a(8)),s=a(9),u=a(14),m=a(13),d=a(6),b=(a(48),a(49),a(50),a(5)),h=a(38),v=a.n(h).a.create({baseURL:"http://localhost:8000/api",headers:{"Content-type":"application/json",Authorization:"Basic YWRtaW46MTIzNDU2"}}),p=new(function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,[{key:"getAllDb",value:function(){return v.get("/databases")}},{key:"getDb",value:function(e){return v.get("/databases/".concat(e))}},{key:"createDb",value:function(e){return v.post("/databases",e)}},{key:"deleteDb",value:function(e){return v.delete("/databases/".concat(e))}},{key:"createCollection",value:function(e,t){return v.post("/databases/".concat(e,"/collections"),t)}},{key:"queryCollection",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return v.get("/databases/".concat(e,"/collections/").concat(t,"?query=").concat(JSON.stringify(a)))}}]),e}()),f=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).onChangeName=n.onChangeName.bind(Object(b.a)(n)),n.onChangeDescription=n.onChangeDescription.bind(Object(b.a)(n)),n.saveDb=n.saveDb.bind(Object(b.a)(n)),n.newTutorial=n.newTutorial.bind(Object(b.a)(n)),n.state={id:null,name:"",description:"",published:!1,submitted:!1,redirectToList:!1},n}return Object(s.a)(a,[{key:"onChangeName",value:function(e){this.setState({name:e.target.value})}},{key:"onChangeDescription",value:function(e){this.setState({description:e.target.value})}},{key:"saveDb",value:function(){var e=this,t={name:this.state.name};p.createDb(t).then((function(t){e.setState({name:t.data.name}),e.setState({redirectToList:!0}),console.log(t.data)})).catch((function(e){console.log(e)}))}},{key:"newTutorial",value:function(){this.setState({id:null,name:"",description:"",published:!1,submitted:!1})}},{key:"render",value:function(){return this.state.redirectToList?l.a.createElement(d.c,{to:"/databases"}):l.a.createElement("div",{className:"submit-form"},this.state.submitted?l.a.createElement("div",null,l.a.createElement("h4",null,"You submitted successfully!"),l.a.createElement("button",{className:"btn btn-success",onClick:this.newTutorial},"Add")):l.a.createElement("div",null,l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"title"},"Title"),l.a.createElement("input",{type:"text",className:"form-control",id:"title",required:!0,value:this.state.name,onChange:this.onChangeName,name:"title"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"description"},"Description"),l.a.createElement("input",{type:"text",className:"form-control",id:"description",required:!0,value:this.state.description,onChange:this.onChangeDescription,name:"description"})),l.a.createElement("button",{onClick:this.saveDb,className:"btn btn-success"},"Submit")))}}]),a}(n.Component),E=a(19),g=a(18),T=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).onChangeTitle=n.onChangeTitle.bind(Object(b.a)(n)),n.onChangeDescription=n.onChangeDescription.bind(Object(b.a)(n)),n.getTutorial=n.getTutorial.bind(Object(b.a)(n)),n.updatePublished=n.updatePublished.bind(Object(b.a)(n)),n.updateTutorial=n.updateTutorial.bind(Object(b.a)(n)),n.deleteTutorial=n.deleteTutorial.bind(Object(b.a)(n)),n.state={currentDatabase:{name:"",collections:[]},collections:[],message:"",db_name:""},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getTutorial(this.props.match.params.id),this.setState({db_name:this.props.match.params.id})}},{key:"onChangeTitle",value:function(e){var t=e.target.value;this.setState((function(e){return{currentDatabase:Object(E.a)(Object(E.a)({},e.currentTutorial),{},{title:t})}}))}},{key:"onChangeDescription",value:function(e){var t=e.target.value;this.setState((function(e){return{currentDatabase:Object(E.a)(Object(E.a)({},e.currentTutorial),{},{description:t})}}))}},{key:"getTutorial",value:function(e){var t=this;p.getDb(e).then((function(e){t.setState({currentDatabase:e.data,collections:e.data.collections}),console.log(e.data)})).catch((function(e){console.log(e)}))}},{key:"updatePublished",value:function(e){var t=this,a={id:this.state.currentTutorial.id,title:this.state.currentTutorial.title,description:this.state.currentTutorial.description,published:e};p.update(this.state.currentTutorial.id,a).then((function(a){t.setState((function(t){return{currentDatabase:Object(E.a)(Object(E.a)({},t.currentTutorial),{},{published:e})}})),console.log(a.data)})).catch((function(e){console.log(e)}))}},{key:"updateTutorial",value:function(){var e=this;p.update(this.state.currentTutorial.id,this.state.currentTutorial).then((function(t){console.log(t.data),e.setState({message:"The tutorial was updated successfully!"})})).catch((function(e){console.log(e)}))}},{key:"deleteTutorial",value:function(){var e=this;p.delete(this.state.currentTutorial.id).then((function(t){console.log(t.data),e.props.history.push("/tutorials")})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state,a=(t.currentDatabase,t.collections);return l.a.createElement("div",null,l.a.createElement(g.a,null,l.a.createElement(g.a.Item,{href:"#"},"Home"),l.a.createElement(g.a.Item,{href:"https://getbootstrap.com/docs/4.0/components/breadcrumb/"},"Library"),l.a.createElement(g.a.Item,{active:!0},"Data")),l.a.createElement("div",null,l.a.createElement(i.Link,{to:"/databases/".concat(this.state.db_name,"/add_collection")},"Add Collection"),l.a.createElement("table",null,l.a.createElement("tr",null,l.a.createElement("td",null,"name"),l.a.createElement("td",null)),a&&a.map((function(t,a){return l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement(i.Link,{to:"/databases/".concat(e.state.currentDatabase.name,"/collections/").concat(t.name)},t.name)),l.a.createElement("td",null))})))))}}]),a}(n.Component),y=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).onChangeSearchTitle=n.onChangeSearchTitle.bind(Object(b.a)(n)),n.retrieveTutorials=n.retrieveTutorials.bind(Object(b.a)(n)),n.refreshList=n.refreshList.bind(Object(b.a)(n)),n.setActiveTutorial=n.setActiveTutorial.bind(Object(b.a)(n)),n.removeAllTutorials=n.removeAllTutorials.bind(Object(b.a)(n)),n.searchTitle=n.searchTitle.bind(Object(b.a)(n)),n.state={databases:[],currentTutorial:null,currentIndex:-1,searchTitle:""},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.retrieveTutorials()}},{key:"onChangeSearchTitle",value:function(e){var t=e.target.value;this.setState({searchTitle:t})}},{key:"retrieveTutorials",value:function(){var e=this;p.getAllDb().then((function(t){e.setState({databases:t.data}),console.log(t.data)})).catch((function(e){console.log(e)}))}},{key:"refreshList",value:function(){this.retrieveTutorials(),this.setState({currentTutorial:null,currentIndex:-1})}},{key:"setActiveTutorial",value:function(e,t){this.setState({currentTutorial:e,currentIndex:t})}},{key:"removeAllTutorials",value:function(){var e=this;p.deleteAll().then((function(t){console.log(t.data),e.refreshList()})).catch((function(e){console.log(e)}))}},{key:"searchTitle",value:function(){var e=this;p.findByTitle(this.state.searchTitle).then((function(t){e.setState({tutorials:t.data}),console.log(t.data)})).catch((function(e){console.log(e)}))}},{key:"deleteDb",value:function(e){var t=this;p.deleteDb(e.name).then((function(e){t.refreshList()})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.searchTitle,n=t.databases,c=t.currentTutorial,r=t.currentIndex;return l.a.createElement("div",{className:"list row"},l.a.createElement("div",{className:"col-md-8"},l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("input",{type:"text",className:"form-control",placeholder:"Search by title",value:a,onChange:this.onChangeSearchTitle}),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("button",{className:"btn btn-outline-secondary",type:"button",onClick:this.searchTitle},"Search")))),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("h4",null,"Database List"),l.a.createElement("table",{class:"table"},l.a.createElement("tr",null,l.a.createElement("td",null,"name"),l.a.createElement("td",null)),n&&n.map((function(t,a){return l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement(i.Link,{to:"/databases/".concat(t.name)},t.name)),l.a.createElement("td",null,l.a.createElement("a",{href:"#",class:"btn btn-outline-danger",onClick:function(){return e.deleteDb(t)}},"delete")))}))),l.a.createElement("ul",{className:"list-group"},n&&n.map((function(t,a){return l.a.createElement("li",{className:"list-group-item "+(a===r?"active":""),onClick:function(){return e.setActiveTutorial(t,a)},key:a},t.name)}))),l.a.createElement("button",{className:"m-3 btn btn-sm btn-danger",onClick:this.removeAllTutorials},"Remove All")),l.a.createElement("div",{className:"col-md-6"},c?l.a.createElement("div",null,l.a.createElement("h4",null,"Tutorial"),l.a.createElement("div",null,l.a.createElement("label",null,l.a.createElement("strong",null,"Title:"))," ",c.title),l.a.createElement("div",null,l.a.createElement("label",null,l.a.createElement("strong",null,"Description:"))," ",c.description),l.a.createElement("div",null,l.a.createElement("label",null,l.a.createElement("strong",null,"Status:"))," ",c.published?"Published":"Pending"),l.a.createElement(i.Link,{to:"/tutorials/"+c.id,className:"badge badge-warning"},"Edit")):l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("p",null,"Please click on a Tutorial..."))))}}]),a}(n.Component),k=a(20),C=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).onChangeCollectionName=n.onChangeCollectionName.bind(Object(b.a)(n)),n.saveCollection=n.saveCollection.bind(Object(b.a)(n)),n.state={db_name:"",new_collection_name:"",redirectDbDetail:!1},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.setState({db_name:this.props.match.params.db_name})}},{key:"onChangeCollectionName",value:function(e){this.setState({new_collection_name:e.target.value})}},{key:"saveCollection",value:function(e){var t=this;p.createCollection(this.state.db_name,{name:this.state.new_collection_name}).then((function(e){t.setState({redirectDbDetail:!0})})).catch((function(e){})),e.preventDefault()}},{key:"render",value:function(){return this.state.redirectDbDetail?l.a.createElement(d.c,{to:"/databases/".concat(this.state.db_name)}):l.a.createElement("div",null,l.a.createElement("h1",null,this.state.db_name),l.a.createElement(k.a,null,l.a.createElement(k.a.Group,{controlId:"formCollectionName"},l.a.createElement(k.a.Label,null,"Collection Name"),l.a.createElement(k.a.Control,{type:"text",placeholder:"Enter collection name",onChange:this.onChangeCollectionName}),l.a.createElement(k.a.Text,{className:"text-muted",name:"name"})),l.a.createElement("button",{onClick:this.saveCollection,className:"btn btn-success"},"Submit")))}}]),a}(n.Component),O=a(41),j=a(78),D=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).queryCollection=n.queryCollection.bind(Object(b.a)(n)),n.state={db_name:"",col_name:"",docs:[],total_rows:0,skip:0,paging:{}},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({db_name:this.props.match.params.db_name,col_name:this.props.match.params.col_name},(function(){e.queryCollection()}))}},{key:"queryCollection",value:function(){var e=this;p.queryCollection(this.state.db_name,this.state.col_name).then((function(t){e.setState({docs:t.data.data,paging:t.data.paging})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.state.docs;return l.a.createElement("div",null,l.a.createElement(g.a,null,l.a.createElement(O.LinkContainer,{to:"/databases/".concat(this.state.db_name)},l.a.createElement(g.a.Item,null,this.state.db_name)),l.a.createElement(g.a.Item,null,this.state.col_name)),e&&e.map((function(e,t){return l.a.createElement(j.a,null,l.a.createElement(j.a.Body,null,l.a.createElement("pre",null,JSON.stringify(e,void 0,2))))})))}}]),a}(n.Component),N=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return l.a.createElement(i.BrowserRouter,null,l.a.createElement("div",null,l.a.createElement("nav",{className:"navbar navbar-expand navbar-dark bg-dark"},l.a.createElement("a",{href:"/tutorials",className:"navbar-brand"},"bezKoder"),l.a.createElement("div",{className:"navbar-nav mr-auto"},l.a.createElement("li",{className:"nav-item"},l.a.createElement(i.Link,{to:"/databases",className:"nav-link"},"DbList")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(i.Link,{to:"/add_database",className:"nav-link"},"AddDb")))),l.a.createElement("div",{className:"container mt-3"},l.a.createElement(d.g,null,l.a.createElement(d.d,{exact:!0,path:["/","/databases"],component:y}),l.a.createElement(d.d,{exact:!0,path:"/add_database",component:f}),l.a.createElement(d.d,{exact:!0,path:"/databases/:id",component:T}),l.a.createElement(d.d,{exact:!0,path:"/databases/:db_name/add_collection",component:C}),l.a.createElement(d.d,{exact:!0,path:"/databases/:db_name/collections/:col_name",component:D})))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(i.BrowserRouter,null,l.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[42,1,2]]]);
//# sourceMappingURL=main.1d2ad883.chunk.js.map